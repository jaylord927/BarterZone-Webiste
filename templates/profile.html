{% extends "base.html" %}
{% block content %}
<section class="hero-section">
  <div class="overlay" style="background: rgba(255,255,255,0.95); color:#333; max-width: 700px; width:100%; padding:30px; border-radius:12px; box-shadow: 0 8px 25px rgba(13, 71, 161, 0.1);">

    <div style="text-align: center; margin-bottom: 30px;">
      <h2 style="color:#0d47a1; margin-bottom:10px; font-size: 28px;">My Profile</h2>
      <p style="color:#666; font-size: 16px;">Manage your account information and settings</p>
    </div>

    <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #0d47a1;">
      <h3 style="color:#0d47a1; margin-top:0; margin-bottom:20px; display: flex; align-items: center; gap: 10px;">
        <span style="font-size: 24px;">üë§</span>
        Profile Information
      </h3>

      <form method="POST" action="{{ url_for('profile') }}">

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#0d47a1; font-size: 14px;">Username</label>
            <input type="text" name="username" value="{{ user['username'] }}" required
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>

          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#0d47a1; font-size: 14px;">Email</label>
            <input type="email" name="email" value="{{ user['email'] }}" required
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#0d47a1; font-size: 14px;">Full Name</label>
            <input type="text" name="full_name" value="{{ user['full_name'] or '' }}"
                   placeholder="Enter your full name"
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>

          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#0d47a1; font-size: 14px;">Contact Number</label>
            <input type="text" name="contact" value="{{ user['contact'] or '' }}"
                   placeholder="Enter your contact number"
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#0d47a1; font-size: 14px;">Birthdate</label>
            <input type="date" name="birthdate" value="{{ user['birthdate'] or '' }}"
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>

          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#0d47a1; font-size: 14px;">Location</label>
            <input type="text" name="location" value="{{ user['location'] or '' }}"
                   placeholder="Enter your location"
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>
        </div>

        <button type="submit" class="btn-primary" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #0d47a1 0%, #1976d2 100%); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s ease;">
          üíæ Update Profile
        </button>
      </form>
    </div>

    <!-- Password Change Section -->
    <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffecb3 100%); padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #ff9800;">
      <h4 style="color:#ef6c00; margin-top:0; margin-bottom:20px; display: flex; align-items: center; gap: 10px;">
        <span style="font-size: 24px;">üîí</span>
        Change Password
      </h4>

      <form method="POST" action="{{ url_for('change_password') }}">
        <div style="margin-bottom: 15px;">
          <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#ef6c00; font-size: 14px;">Current Password</label>
          <input type="password" name="current_password" placeholder="Enter current password" required
                 style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#ef6c00; font-size: 14px;">New Password</label>
            <input type="password" name="new_password" placeholder="Enter new password" required
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>

          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: bold; color:#ef6c00; font-size: 14px;">Confirm New Password</label>
            <input type="password" name="confirm_password" placeholder="Confirm new password" required
                   style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s;">
          </div>
        </div>

        <button type="submit" class="btn-primary" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s ease;">
          üîë Change Password
        </button>
      </form>
    </div>

    <div style="text-align: center;">
      <a href="{{ url_for('dashboard') }}" class="btn-primary" style="padding: 12px 25px; background: linear-gradient(135deg, #546e7a 0%, #78909c 100%); color: white; border: none; border-radius: 8px; font-weight: bold; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-decoration: none;">
        üè† Back to Dashboard
      </a>
    </div>

  </div>
</section>

<script>
// Add focus effects to form inputs
document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('input, textarea');
    inputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.style.borderColor = '#0d47a1';
            this.style.boxShadow = '0 0 0 3px rgba(13, 71, 161, 0.1)';
        });
        input.addEventListener('blur', function() {
            this.style.borderColor = '#e0e0e0';
            this.style.boxShadow = 'none';
        });
    });
});
</script>

<style>
.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

input:focus {
    outline: none;
}
</style>
{% endblock %}